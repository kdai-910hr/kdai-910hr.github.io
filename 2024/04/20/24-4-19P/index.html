<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		
<title>无题 - 芥末番茄的博客</title>
<meta charset="utf-8" />
<meta name="keywords" content="" />
<meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=5"
/>
<meta name="generator" content="Hexo 7.1.1">
<link rel="stylesheet" href="/css/style.css?v=1713546669405">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Noto+Serif+SC&display=swap"
    media="all"
/>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/highlight.js@9.15.8/styles/solarized-light.css"
/>
<script src="/js/core.js?v=1713546669405"></script>






<script src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.1/lazysizes.min.js" async></script>
<!--<script src="" async></script>--> 
	</head>

	<body>
        <div class="header  ">
    <div class="container">
        <a class="logo" href="/" title="芥末番茄的博客">芥末番茄的博客</a>
        <ul class="nav">
            
                <li class="nav-item"><a href="/archives">Archives</a></li>
            
                <li class="nav-item"><a href="/about/">About</a></li>
            
        </ul>
    </div>
</div>
        <div class="content">
	<div class="banner">
		<div class="container">
			<h1>无题</h1>
			<div class="info"><span class="date">2024年4月20日 00:00:09</span>• by 芥末番茄 
			
				<br> 分类：	
				<a class="nexmoefont icon-appstore-fill -link" href="/categories/%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">实验报告</a>
				
				<!-- 
					<a href="https://github.com/nexmoe/books/tree/master/source/_posts/24-4-19P.md" target="_blank" rel="external nofollow noreferrer noopener">编辑</a>
				 -->
			</div>
			
		</div>
	</div>
	<div class="container">
		<article class="post">
			<h3 id="博客主题及选取原因"><a href="#博客主题及选取原因" class="headerlink" title="博客主题及选取原因"></a>博客主题及选取原因</h3><p>主题如页面所示，即 “百合花园”。<strong>详细的选取原因已在About中记述</strong>，简而言之就是整理了我这些年随笔记录的与主题“百合”相关的见闻与体会，并分为了视觉小说、广播剧、动画、文学作品四个大类。</p>
<h3 id="博客页面布局及设计思路"><a href="#博客页面布局及设计思路" class="headerlink" title="博客页面布局及设计思路"></a>博客页面布局及设计思路</h3><p>本博客使用Hexo进行搭建，知乎对Hexo的评价是：“Hexo是一款基于Node.js的静态博客框架，依赖少易于安装使用，可以方便的生成静态网页托管在GitHub和Heroku上，是搭建博客的首选框架”，我在实际找了个模板并套在自己的博客上后，深以为然，确实太方便了。</p>
<p>本次实验的搭建部分我参考了知乎(<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/26625249">GitHub+Hexo 搭建个人网站详细教程 - 知乎 (zhihu.com)</a>)。</p>
<h4 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h4><h5 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h5><ul>
<li><p>在电脑上安装nvm(<a target="_blank" rel="noopener" href="https://github.com/coreybutler/nvm-windows">https://github.com/coreybutler/nvm-windows/releases</a>)，用nvm管理Node版本感觉方便一点</p>
</li>
<li><p>查看可用Node版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm ls available</span><br></pre></td></tr></table></figure>
</li>
<li><p>下载特定版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install xxx</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用特定版本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use xxx</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h5><ul>
<li><p>使用npm安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>
</li>
<li><p>初始化博客</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure>
</li>
<li><p>载入我偷的模板</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i hexo-theme-yet-the-books</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="新建文章并在本地部署博客"><a href="#新建文章并在本地部署博客" class="headerlink" title="新建文章并在本地部署博客"></a>新建文章并在本地部署博客</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo n my_md # 生成一篇文章</span><br><span class="line">hexo g       # 重新生成静态页面</span><br><span class="line">hexo s		 # 将博客在本地部署，可以在 localhost:4000 访问博客首页</span><br></pre></td></tr></table></figure>

<h5 id="将博客部署到github"><a href="#将博客部署到github" class="headerlink" title="将博客部署到github"></a>将博客部署到github</h5><ul>
<li><p>配置 _config.yml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">	type: git</span><br><span class="line">	repo: ...</span><br><span class="line">	branch: master</span><br></pre></td></tr></table></figure>
</li>
<li><p>安装git部署插件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
</li>
<li><p>正式部署</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean  # 将本地生成的静态页面等一并删除</span><br><span class="line">hexo g 		# 重新生成</span><br><span class="line">hexo d		# 部署到远程</span><br></pre></td></tr></table></figure>
</li>
<li><p>身份验证</p>
<p>部署到远程时需要验明github账号身份，用户名照常输入，密码使用github token。</p>
</li>
</ul>
<h4 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h4><p>本质上套的壳，仅小美化了布局，如：</p>
<ul>
<li>我使用的模板在分类页没有多页跳转，在文章数超过一个既定值10后剩余文章无法显示，所以我直接把单页可展示数设为0，即显示全部。</li>
<li>原框架每篇文章仅展示了撰写年月日，但我每篇文章基本都是半夜写的，这不得表现一下，说明我总是在夜里才思泉涌，于是找到了生成文章的js文件，把date格式中的“HH:mm:ss”也加了进去。</li>
</ul>
<h3 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h3><ul>
<li><p>期初是发现图片即使使用了相对路径也无法展示</p>
<p>看到网上的解决方案是修改 _config.yml</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_asset_folder: true</span><br></pre></td></tr></table></figure>

<p>设置后每次新建文章都会随之附带新建一个文件夹，在文件夹中放置图片并使用相对路径即可，但还是不行。所以我用F12看了下实际页面中对于图片链接地址的值，发现路径前加了很奇怪的前缀，才意识到原来是我的_config.yml中url字段的值设置有问题。</p>
<p>我看到注释中对于url字段的描述是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span><br></pre></td></tr></table></figure>

<p>所以我也是按这个格式去做的，就导致我图片的链接都会有一个前缀&#x2F;project，就找不到图了，把&#x2F;project后缀删去就好了。</p>
</li>
<li><p>后来在写About页面的时候发现无论如何about的html页面都无法生成，有报错：</p>
<center>
  <img src="/2024/04/20/24-4-19P/3.png">
</center>

<p>报错的代码段是展示分类和标签的两个代码段，几番尝试后我感觉是模板没有考虑到about页面的问题，一搜github发现这个模板仓库的issue里也有人遇到了同样无法生成about.html的问题，而且作者一直没有回复。</p>
</li>
</ul>
<center>
    <img src="/2024/04/20/24-4-19P/2.png">
</center>

<p>  所以我就直接把生成这个页面的脚本里发生错的两段代码块的最开头都加上一个if判断，如果当前生成的页面是about页面，就直接跳过这段代码，然后就能正常生成静态页面了，而且about也不需要分类和标签，不执行这两段代码完全不会有问题。</p>
<center>
    <img src="/2024/04/20/24-4-19P/1.png">
</center>
			<br>
			
				
			
		</article>
	</div>
	<div class="other">
		<div class="container">
			<nav class="post-nav">

    
        
    

    
        
    

    
        
    

    
        
    

    
         <!-- 先找到与当前文字相同的目录 -->
            
            
                 
                 <!-- 在找到当前文章所在的 index -->
                    
                    
                         

                        

                        

                    
                
            
        
    

</nav> 
		</div>
	</div>
	<div class="container comment">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '80b2453b6d5f37ad6225',
        clientSecret: '43e99fa852795c9a7b3eb924b2558c64b84bbdeb',
        id: window.location.pathname,
        repo: 'nexmoe.github.io',
        owner: 'nexmoe',
        admin: 'nexmoe'
    })
    gitalk.render('gitalk')
</script>
	</div>
</div>
		<div class="footer">
    <div class="container">
        <div class="footer-content">
            <div class="footer-left">芥末番茄的博客</div>
            <div class="footer-right"> 
                <div class="footer-links">
                    
                        <a target="_blank" rel="noopener" href="https://nexmoe.com/">折影轻梦</a>
                    
                        <a target="_blank" rel="noopener" href="https://github.com/Yet-The-Books/hexo-theme-yet-the-books">还有书籍</a>
                    
                </div>
                <div calss="footer-copyright">&copy; 2024 芥末番茄的博客
                    Using <a rel="noreferrer" href="http://hexo.io/" target="_blank">Hexo</a> 
                    &amp; <a rel="noreferrer" href="https://github.com/Yet-The-Books/hexo-theme-yet-the-books" target="_blank">Yet The Books</a>
                </div>
            </div>  
        </div>
    </div>
</div>
	</body>
</html>
